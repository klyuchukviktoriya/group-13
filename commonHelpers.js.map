{"version":3,"file":"commonHelpers.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n    baseURL: \"https://dummyjson.com\",\n\n})\n\n\n\n","import { api } from '../services/api.js';\n\n// Task 1 - product request\n\nexport async function getAllProducts() {\n  return await api.get('/products');\n}\n\nexport async function getProductById(id) {\n  return await api.get(`/products/${id}`);\n}\n\nexport async function addProduct(newProduct) {\n  return await api.post('/products/add', newProduct);\n}\n","export const createProductsMarkup = products => {\n  return products\n    .map(({ id, title, price, description, tags, images }) => {\n      return `<li class=\"productCard\" data-id=\"${id}\">\n    <img src=\"${images[0]}\" alt=\"${tags}\" width=\"250\">\n    <h2>${title}</h2>\n    <p>${price}</p>\n    <p>${description}</p>\n  </li>`;\n    })\n    .join('');\n};\n\nexport const createProductsbyIdMarkup = ({\n  id,\n  title,\n  price,\n  description,\n  tags,\n  images,\n}) => {\n  return `<div class=\"productCard\" data-id=\"${id}\">\n  <img src=\"${images[0]}\" alt=\"${tags}\" width=\"250\">\n  <h2>${title}</h2>\n  <p>${price}</p>\n  <p>${description}</p>\n</div>`;\n};\n\nexport const createProduct = ({ id, title, price, description }) => {\n  return `<div class=\"productCard\" data-id=\"${id}\">\n  \n  <h2>${title}</h2>\n  <p>${price}</p>\n  <p>${description}</p>\n</div>`;\n};\n","// imports from backend\nimport {\n  getAllProducts,\n  getProductById,\n  addProduct,\n} from './requests/products';\nimport {\n  createProductsMarkup,\n  createProductsbyIdMarkup,\n  createProduct,\n} from './services/markupService';\n\n// Task 1\nconst allProducts = document.getElementById('allProducts');\n// Task 2\nconst form = document.getElementById('singleProductForm');\nconst singleProduct = document.getElementById('singleProduct');\n\n// Task 3\n\nconst newProductSection = document.querySelector('#newProductSection');\nconst newProductForm = document.querySelector('#newProductForm');\n\ngetAllProducts().then(({ data: { products } }) => {\n  console.log(products);\n  const markupCard = createProductsMarkup(products);\n  allProducts.insertAdjacentHTML('beforeend', markupCard);\n});\n\nform.addEventListener('submit', searchById);\nfunction searchById(e) {\n  e.preventDefault();\n  const id = e.target.elements.id.value.trim();\n  getProductById(id).then(console.log);\n  getProductById(id).then(({ data }) => {\n    const markupCard = createProductsbyIdMarkup(data);\n    singleProduct.innerHTML = markupCard;\n    form.reset();\n  });\n}\n\nnewProductForm.addEventListener('submit', newCard);\n\nfunction newCard(event) {\n  event.preventDefault();\n  const price = event.target.elements.price.value.trim();\n  const description = event.target.elements.description.value.trim();\n  const title = event.target.elements.title.value.trim();\n\n  const newProduct = { price, description, title };\n\n  addProduct(newProduct).then(({ data }) => {\n    const markupNewCard = createProduct(data);\n    newProductSection.innerHTML = markupNewCard;\n    newProductForm.reset();\n  });\n}\n"],"names":["api","axios","getAllProducts","getProductById","id","addProduct","newProduct","createProductsMarkup","products","title","price","description","tags","images","createProductsbyIdMarkup","createProduct","allProducts","form","singleProduct","newProductSection","newProductForm","markupCard","searchById","e","data","newCard","event","markupNewCard"],"mappings":"svBAEO,MAAMA,EAAMC,EAAM,OAAO,CAC5B,QAAS,uBAEb,CAAC,ECDM,eAAeC,GAAiB,CACrC,OAAO,MAAMF,EAAI,IAAI,WAAW,CAClC,CAEO,eAAeG,EAAeC,EAAI,CACvC,OAAO,MAAMJ,EAAI,IAAI,aAAaI,CAAE,EAAE,CACxC,CAEO,eAAeC,EAAWC,EAAY,CAC3C,OAAO,MAAMN,EAAI,KAAK,gBAAiBM,CAAU,CACnD,CCdO,MAAMC,EAAuBC,GAC3BA,EACJ,IAAI,CAAC,CAAE,GAAAJ,EAAI,MAAAK,EAAO,MAAAC,EAAO,YAAAC,EAAa,KAAAC,EAAM,OAAAC,KACpC,oCAAoCT,CAAE;AAAA,gBACnCS,EAAO,CAAC,CAAC,UAAUD,CAAI;AAAA,UAC7BH,CAAK;AAAA,SACNC,CAAK;AAAA,SACLC,CAAW;AAAA,QAEf,EACA,KAAK,EAAE,EAGCG,EAA2B,CAAC,CACvC,GAAAV,EACA,MAAAK,EACA,MAAAC,EACA,YAAAC,EACA,KAAAC,EACA,OAAAC,CACF,IACS,qCAAqCT,CAAE;AAAA,cAClCS,EAAO,CAAC,CAAC,UAAUD,CAAI;AAAA,QAC7BH,CAAK;AAAA,OACNC,CAAK;AAAA,OACLC,CAAW;AAAA,QAILI,EAAgB,CAAC,CAAE,GAAAX,EAAI,MAAAK,EAAO,MAAAC,EAAO,YAAAC,CAAW,IACpD,qCAAqCP,CAAE;AAAA;AAAA,QAExCK,CAAK;AAAA,OACNC,CAAK;AAAA,OACLC,CAAW;AAAA,QCrBZK,EAAc,SAAS,eAAe,aAAa,EAEnDC,EAAO,SAAS,eAAe,mBAAmB,EAClDC,EAAgB,SAAS,eAAe,eAAe,EAIvDC,EAAoB,SAAS,cAAc,oBAAoB,EAC/DC,EAAiB,SAAS,cAAc,iBAAiB,EAE/DlB,EAAgB,EAAC,KAAK,CAAC,CAAE,KAAM,CAAE,SAAAM,CAAU,CAAA,IAAO,CAChD,QAAQ,IAAIA,CAAQ,EACpB,MAAMa,EAAad,EAAqBC,CAAQ,EAChDQ,EAAY,mBAAmB,YAAaK,CAAU,CACxD,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAU,EAC1C,SAASA,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMnB,EAAKmB,EAAE,OAAO,SAAS,GAAG,MAAM,OACtCpB,EAAeC,CAAE,EAAE,KAAK,QAAQ,GAAG,EACnCD,EAAeC,CAAE,EAAE,KAAK,CAAC,CAAE,KAAAoB,CAAI,IAAO,CACpC,MAAMH,EAAaP,EAAyBU,CAAI,EAChDN,EAAc,UAAYG,EAC1BJ,EAAK,MAAK,CACd,CAAG,CACH,CAEAG,EAAe,iBAAiB,SAAUK,CAAO,EAEjD,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,MAAM,MAAM,OAC1Cf,EAAce,EAAM,OAAO,SAAS,YAAY,MAAM,OACtDjB,EAAQiB,EAAM,OAAO,SAAS,MAAM,MAAM,OAIhDrB,EAFmB,CAAE,MAAAK,EAAO,YAAAC,EAAa,MAAAF,CAAK,CAEzB,EAAE,KAAK,CAAC,CAAE,KAAAe,CAAI,IAAO,CACxC,MAAMG,EAAgBZ,EAAcS,CAAI,EACxCL,EAAkB,UAAYQ,EAC9BP,EAAe,MAAK,CACxB,CAAG,CACH"}